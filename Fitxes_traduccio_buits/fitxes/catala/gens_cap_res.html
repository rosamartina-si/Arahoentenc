<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Omple els buits: gens, cap i res</title>

  <style>
    :root {
      --color-primary: #003366;
      --color-primary-light: #005599;
      --color-success: #2e7d32;
      --color-success-bg: #e8f5e9;
      --color-error: #c62828;
      --color-error-bg: #ffebee;
      --color-warning: #ef6c00;
      --color-warning-bg: #fff3e0;
      --color-bg-section: #fffbe6;
      --color-border-section: #f0e1a0;
      --color-bg-note: #f4f8ff;
      --color-text-light: #555;
      --border-radius: 8px;
      --shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Georgia', serif;
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
      background: #fff;
      color: #000;
      line-height: 1.6;
    }

    h1 { 
      color: var(--color-primary);
      text-align: center;
      margin-bottom: 1.5rem;
      border-bottom: 2px solid var(--color-primary);
      padding-bottom: 0.5rem;
    }

    h2 {
      color: var(--color-primary);
      margin-top: 0;
    }

    h3 {
      color: var(--color-primary);
      border-bottom: 1px solid #ddd;
      padding-bottom: 5px;
    }

    input[type="text"] {
      width: auto;
      min-width: 100px;
      padding: 8px 10px;
      font-size: 16px;
      margin: 0 6px;
      border: 1px solid #ccc;
      border-radius: var(--border-radius);
      box-sizing: border-box;
      display: inline-block;
      transition: all 0.3s ease;
    }

    input:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 0 2px rgba(0, 51, 102, 0.2);
    }

    input.correct { 
      border: 2px solid var(--color-success); 
      background: var(--color-success-bg); 
    }
    
    input.incorrect { 
      border: 2px solid var(--color-error); 
      background: var(--color-error-bg); 
    }
    
    input.corrected { 
      border: 2px solid var(--color-warning); 
      background: var(--color-warning-bg); 
    }

    button {
      margin: 5px 5px 15px 0;
      padding: 8px 16px;
      font-size: 16px;
      background-color: var(--color-primary);
      color: #fff;
      border: none;
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    button:hover { 
      background-color: var(--color-primary-light); 
    }
    
    button:active {
      transform: translateY(1px);
    }

    .phrase-block { 
      margin-bottom: 25px;
      padding: 15px;
      border-radius: var(--border-radius);
      background: #f9f9f9;
      box-shadow: var(--shadow);
    }
    
    .correction { 
      margin-top: 8px; 
      font-style: italic; 
      padding: 5px 0;
    }
    
    .frase-cas { 
      color: var(--color-text-light); 
      font-style: italic; 
      margin-bottom: 8px; 
    }
    
    .frase-cat { 
      margin: 10px 0; 
      font-weight: 500;
    }

    #resultat {
      font-weight: bold;
      color: var(--color-primary);
      margin-top: 20px;
      padding: 10px;
      border-radius: var(--border-radius);
      background: var(--color-bg-note);
      text-align: center;
    }

    section {
      background: var(--color-bg-section);
      border: 1px solid var(--color-border-section);
      border-radius: var(--border-radius);
      padding: 15px;
      margin: 20px 0;
      box-shadow: var(--shadow);
    }

    .nota {
      margin-top: 30px;
      padding: 15px;
      background: var(--color-bg-note);
      border-left: 4px solid var(--color-primary);
      border-radius: 0 var(--border-radius) var(--border-radius) 0;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 20px 0;
    }

    .progress-container {
      margin: 15px 0;
      background-color: #e0e0e0;
      border-radius: 10px;
      overflow: hidden;
    }

    .progress-bar {
      height: 10px;
      background-color: var(--color-primary);
      width: 0%;
      transition: width 0.5s ease;
    }

    .stats {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
      font-size: 0.9rem;
      color: var(--color-text-light);
    }

    .success-message {
      color: var(--color-success);
      font-weight: bold;
      text-align: center;
      margin: 15px 0;
      padding: 10px;
      border-radius: var(--border-radius);
      background-color: var(--color-success-bg);
    }

    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
    }

    .comparison-table th, .comparison-table td {
      border: 1px solid #ddd;
      padding: 12px;
      text-align: left;
    }

    .comparison-table th {
      background-color: var(--color-primary);
      color: white;
    }

    .comparison-table tr:nth-child(even) {
      background-color: #f2f2f2;
    }

    .example-block {
      background-color: #f9f9f9;
      padding: 12px;
      border-left: 4px solid var(--color-primary);
      margin: 15px 0;
      border-radius: 0 var(--border-radius) var(--border-radius) 0;
    }

    .usage-note {
      background-color: #e8f4fd;
      padding: 15px;
      border-radius: var(--border-radius);
      margin: 15px 0;
      border-left: 4px solid #4a90e2;
    }

    .rule-box {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      border-radius: var(--border-radius);
      margin: 20px 0;
      text-align: center;
    }

    .rule-box h3 {
      color: white;
      border-bottom: 1px solid rgba(255,255,255,0.3);
    }

    .highlight {
      background-color: #fff3cd;
      padding: 15px;
      border-radius: var(--border-radius);
      border-left: 4px solid #ffc107;
      margin: 15px 0;
      font-weight: 500;
    }

    .tip-box {
      background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
      color: white;
      padding: 15px;
      border-radius: var(--border-radius);
      margin: 15px 0;
    }

    .tip-box h4 {
      color: white;
      margin-top: 0;
    }

    @media (max-width: 600px) {
      body {
        padding: 10px;
      }
      
      .controls {
        flex-direction: column;
      }
      
      button {
        width: 100%;
      }
      
      input[type="text"] {
        width: 80px;
        margin: 5px 0;
      }
      
      .frase-cat {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
      }
      
      .comparison-table {
        font-size: 0.9rem;
      }
      
      .comparison-table th, .comparison-table td {
        padding: 8px;
      }
    }
  </style>
</head>
<body>

<h1>Omple els buits: Gens, cap i res</h1>

<p>
  Escriu la paraula correcta dins la frase. Fes clic a <strong>Comprova</strong> o prem <strong>Retorn</strong> per verificar la resposta i escoltar la frase completa.
</p>

<section>
  <h2>Explicaci√≥ gramatical</h2>
  <ul>
    <li><strong>Gens de</strong> ‚Üí amb noms incomptables: <em>gens de sucre</em>, <em>gens d'aigua</em>, <em>gens de gr√†cia</em>, <em>gens de sentit</em>. Es pot refor√ßar amb <strong>Gens ni mica</strong>. Contrari: poc</li>
    <li><strong>Cap</strong> ‚Üí amb noms comptables: <em>cap alumne</em>, <em>cap motiu</em>. Es pot refor√ßar amb <strong>Cap ni un</strong>.</li>
    <li><strong>Res</strong> ‚Üí com a pronom: <em>No entenc res</em>. Es pot refor√ßar amb <strong>Res de res</strong>. Contrari: moltes coses.</li>
  </ul>
</section>

<section>
  <h2>Formes b√†siques i refor√ßades</h2>
  
  <table class="comparison-table">
    <thead>
      <tr>
        <th>Forma</th>
        <th>Refor√ß</th>
        <th>Exemple</th>
        <th>Exemple amb refor√ß</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>gens / gens de</strong></td>
        <td><em>gens ni mica (de)</em></td>
        <td>No tinc <strong>gens de</strong> paci√®ncia.</td>
        <td>No tinc <strong>gens ni mica de</strong> paci√®ncia.</td>
      </tr>
      <tr>
        <td><strong>cap</strong></td>
        <td><em>cap ni un / cap ni una</em></td>
        <td>No he llegit <strong>cap</strong> llibre.</td>
        <td>No he llegit <strong>cap ni un</strong> llibre.</td>
      </tr>
    </tbody>
  </table>
</section>

<section>
  <h2>Les formes refor√ßades com a pista</h2>
  
  <div class="highlight">
    <p><strong>üí° CONSELL PR√ÄCTIC:</strong> Les formes refor√ßades et donen una pista immediata per saber si cal usar 'gens' o 'cap'.</p>
  </div>

  <table class="comparison-table">
    <thead>
      <tr>
        <th>Forma b√†sica</th>
        <th>Forma refor√ßada</th>
        <th>Pista que ens d√≥na</th>
        <th>Exemple</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>gens / gens de</strong></td>
        <td><strong>gens ni mica (de)</strong></td>
        <td>Si pots dir "gens ni mica", llavors la forma correcta √©s <strong>gens de</strong></td>
        <td>No tinc <strong>gens de</strong> paci√®ncia ‚Üí No tinc <strong>gens ni mica de</strong> paci√®ncia</td>
      </tr>
      <tr>
        <td><strong>cap</strong></td>
        <td><strong>cap ni un / cap ni una</strong></td>
        <td>Si pots dir "cap ni un", llavors la forma correcta √©s <strong>cap</strong></td>
        <td>No he llegit <strong>cap</strong> llibre ‚Üí No he llegit <strong>cap ni un</strong> llibre</td>
      </tr>
    </tbody>
  </table>

  <div class="example-block">
    <h3>Com utilitzar aquesta pista:</h3>
    <p>Quan dubtis entre "gens de" i "cap", <strong>prova mentalment la forma refor√ßada</strong>:</p>
    <ul>
      <li>Si "gens ni mica de" sona natural ‚Üí usa <strong>gens de</strong></li>
      <li>Si "cap ni un/una" sona natural ‚Üí usa <strong>cap</strong></li>
    </ul>
    <p><strong>Exemple pr√†ctic:</strong></p>
    <p>"No tinc ______ por"</p>
    <p>Prova: "No tinc <strong>gens ni mica de</strong> por" ‚Üí ‚úÖ Sona b√© ‚Üí Resposta: <strong>gens de</strong></p>
    <p>"No tinc <strong>cap ni una</strong> por" ‚Üí ‚ùå No sona b√© ‚Üí Descarta <strong>cap</strong></p>
  </div>
</section>

<section>
  <h2>Com triar entre 'cap' i 'gens de': La t√®cnica de la r√®plica</h2>
  
  <div class="rule-box">
    <h3>üîë REGLA D'OR</h3>
    <p><strong>Imagina la r√®plica afirmativa i mira el quantificador:</strong></p>
    <p>Si la r√®plica diu <strong>"molt/molta"</strong> ‚Üí <strong>"gens de"</strong></p>
    <p>Si la r√®plica diu <strong>"molts/moltes"</strong> ‚Üí <strong>"cap"</strong></p>
  </div>

  <table class="comparison-table">
    <thead>
      <tr>
        <th>Forma</th>
        <th>Exemple</th>
        <th>R√®plica</th>
        <th>Quantificador de la r√®plica</th>
        <th>Tipus de nom</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>gens / gens de</strong></td>
        <td>No tinc <strong>gens de</strong> paci√®ncia.</td>
        <td>Jo, en canvi, en tinc <strong>molta</strong>.</td>
        <td><strong>molt / molta</strong> (singular)</td>
        <td><strong>No comptable</strong></td>
      </tr>
      <tr>
        <td><strong>cap</strong></td>
        <td>No he llegit <strong>cap</strong> llibre.</td>
        <td>Doncs jo n'he llegit <strong>molts</strong>.</td>
        <td><strong>molts / moltes</strong> (plural)</td>
        <td><strong>Comptable</strong></td>
      </tr>
    </tbody>
  </table>

  <div class="highlight">
    <p><strong>üí° Recorda:</strong> La clau est√† en la r√®plica. Si imagines com seria la resposta afirmativa, sabr√†s immediatament si cal usar 'cap' o 'gens de'.</p>
  </div>
</section>

<section>
  <h2>Difer√®ncies subtils: Res vs Gens</h2>
  
  <h3>No veig res vs No m'hi veig gens</h3>
  
  <table class="comparison-table">
    <thead>
      <tr>
        <th>Expressi√≥</th>
        <th>Significat</th>
        <th>Causa</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>No veig res</strong></td>
        <td>No percebo res ara mateix</td>
        <td>Externa (foscor, boira, obstacle‚Ä¶)</td>
      </tr>
      <tr>
        <td><strong>No m'hi veig gens</strong></td>
        <td>Tinc poca capacitat de visi√≥</td>
        <td>Interna (vista deficient, cansament, calen ulleres)</td>
      </tr>
    </tbody>
  </table>
  
  <h3>No ha rumiat res vs No s'ho ha rumiat gens</h3>
  
  <div class="example-block">
    <p><strong>No va rumiar res</strong></p>
    <p>Aquesta expressi√≥ indica que la persona no va pensar ni reflexionar sobre cap q√ºesti√≥. "Res" implica una abs√®ncia total de pensament o consideraci√≥ d'idees. La implicaci√≥ aqu√≠ √©s que no hi va haver cap tipus de reflexi√≥.</p>
    <p><em>Exemple d'√∫s:</em> "Sobre la proposta que li vaig fer, no va rumiar res."</p>
  </div>
  
  <div class="example-block">
    <p><strong>No s'ho va rumiar gens</strong></p>
    <p>Aquesta frase indica que, encara que hi va haver un cert nivell de reflexi√≥, aquest va ser m√≠nim o gaireb√© inexistent.</p>
    <p><em>Exemple d'√∫s:</em> "El rector es va interessar de seguida per la descoberta. No s'ho va rumiar gens. ‚ÄîAix√≤ cal veure-ho!"</p>
  </div>
</section>

<section>
  <h2>√ös especial de "cap" amb noms incomptables</h2>
  
  <div class="usage-note">
    <p><strong>"Cap" tamb√© es pot fer servir acompanyant noms incomptables</strong>, per√≤ nom√©s en construccions negatives, acompanyant determinats noms incomptables susceptibles de formar part d'una escala de gradaci√≥ o d'una tipologia, indica l'abs√®ncia o la inexist√®ncia de la qualitat o l'element que designa el nom que l'acompanya.</p>
  </div>
  
  <div class="example-block">
    <p><strong>Exemple:</strong> "Despr√©s hi hagu√© representacions de titelles o d'altres coses que <strong>no tenien cap import√†ncia</strong>."</p>
    <p>En aquest cas, "import√†ncia" √©s un nom incomptable, per√≤ s'utilitza "cap" per indicar l'abs√®ncia total d'aquesta qualitat.</p>
  </div>
  
  <h3>Altres exemples d'aquest √∫s:</h3>
  <ul>
    <li>"Aquesta situaci√≥ <strong>no t√© cap sentit</strong>."</li>
    <li>"El seu discurs <strong>no va tenir cap efecte</strong> en l'audi√®ncia."</li>
    <li>"Aquest problema <strong>no presenta cap dificultat</strong>."</li>
    <li>"La seva explicaci√≥ <strong>no tenia cap l√≤gica</strong>."</li>
  </ul>
</section>

<div class="stats">
  <span id="progress-text">Progr√©s: 0/10</span>
  <span id="score-text">Puntuaci√≥: 0%</span>
</div>

<div class="progress-container">
  <div class="progress-bar" id="progress-bar"></div>
</div>

<div id="exercici"></div>

<div class="controls" id="controls"></div>

<div id="resultat"></div>

<div class="nota">
  Fitxa interactiva: Traducci√≥ del castell√† al catal√† ‚Äî Gens, cap, res.
</div>

<script>
  /* FRASES AMB LA RESPOSTA CORRECTA COMPLETA (incloent "gens de", "gens d'") */
  const frases = [
    ["No hay ning√∫n problema.", "No hi ha", "cap", "problema.", false],
    ["No entiendo nada.", "No entenc", "res", ".", false],
    ["No hay nada de agua.", "No hi ha", "gens d'", "aigua.", false],
    ["No hay ning√∫n estudiante en clase.", "No hi ha", "cap", "estudiant a classe.", false],
    ["No hay ning√∫n motivo para preocuparse.", "No hi ha", "cap", "motiu per preocupar-se.", false],
    ["No me hace ninguna gracia.", "No em fa", "gens de", "gr√†cia.", false],
    ["No veo nada raro en eso.", "No veig", "res", "estrany en aix√≤.", false],
    ["No ha llegado ning√∫n alumno.", "No ha arribat", "cap", "alumne.", false],
    ["No hab√≠a nada de az√∫car en el caf√©.", "No hi havia", "gens de", "sucre al caf√®.", false],
    ["No tiene ning√∫n sentido.", "No t√©", "gens de", "sentit.", false],
    ["No ha dicho nada interesante.", "No ha dit", "res", "interessant.", false],
    ["O todo o nada.", "O tot o ", "res", ".", false],
    ["No temo nada.", "No temo ", "res", ".", false],
    ["Ahora nada m√°s.", "Ara ", "res", " m√©s.", false],
    ["No has hecho nada.", "No has fet ", "res", ".", false],
    ["No pasa nada.", "No passa ", "res", ".", false],
    ["No tiene que hacer nada de ello.", "No n'ha de fer ", "res", ".", false],
    ["Aqu√≠ no ha pasado nada.", "Aqu√≠ no ha passat ", "res", ".", false],
    ["No tiene nada que ver.", "No hi t√© ", "res", " a veure.", false],
    ["No tengo que explicar nada.", "No he d'explicar ", "res", ".", false],
    ["No me duele nada.", "No em fa mal ", "res", ".", false],
    ["No hab√©is encontrado nada m√°s.", "No heu trobat ", "res", " m√©s.", false],
    ["Nada del otro mundo.", "No ", "res", " de l'altre m√≥n.", false],
    ["Aqu√≠ no hemos pedido nada.", "Aqu√≠ no hem demanat ", "res", ".", false],
    ["No hay nada que lo ate.", "No hi ha ", "res", " que lligui.", false],
    ["No le dice nada, todo eso.", "No li diu ", "res", ", tot aix√≤.", false],
    ["No hay nada como casa.", "No hi ha ", "res", " com a casa.", false],
    ["No saben ni sospechan nada.", "No saben ni sospiten ", "res", ".", false],
    ["Pero es que no tengo nada.", "Per√≤ √©s que no tinc ", "res", ".", false],
    ["Esto no tiene nada de notable.", "Aix√≤ no t√© ", "res", " de notable.", false],
    ["Y esto no se va con nada.", "I aix√≤ no se'n va amb ", "res", ".", false],
    ["¬øTe he pedido algo alguna vez, yo?", "T'he demanat mai ", "res", ", jo?", false],
    ["Usted no le he hecho nada.", "vost√® no li he fet ", "res", ".", false],
    ["No quiere a√±adir nada m√°s.", "No vol afegir-hi ", "res", " m√©s.", false],
    ["No has entendido nada.", "No has ent√®s ", "res", ".", false],
    ["No tienen nada para darle.", "No tenen ", "res", " per a donar-li.", false],
    ["De verdad no le temblaba nada.", "De deb√≤ no li tremolava ", "res", ".", false],
    ["A m√≠ ya no me viene nada nuevo.", "A mi ja no em ve ", "res", " de nou.", false],
    ["Si ha sido un golpe de nada.", "Si ha estat un cop de no ", "res", ".", false],
    ["Y √©l, nada, como un poste.", "I ell, ", "res", ", com un estaquirot.", false],
    ["Que no te dijo nada el m√©dico.", "Que no et va dir ", "res", " el metge.", false],
    ["¬øNo notas nada de inusual, hoy?", "No notes ", "res", " d'inusitat, avui.", false],
    ["Nada, si hemos de ser francos.", "No ", "res", ", si hem d'√©sser francs.", false],
    ["Se ve que no ha sido nada esto.", "Es veu que no ha estat ", "res", " aix√≤.", false],
    ["Esto de ahora no tiene nada que ver.", "Aix√≤ d'ara no hi t√© ", "res", " a veure.", false],
    ["¬´¬øLe importar√≠a explic√°rnoslo?", "¬´Li faria ", "res", " d'explicar-nos-ho.", false],
    ["‚ÄîTiene que entender que no entiende nada.", "‚ÄîHa d'entendre que no ent√©n ", "res", ".", false],
    ["No perder√° nada si prueba uno.", "No hi perdr√† ", "res", " si en prova un.", false],
    ["Pero esto no tiene nada que ver, ahora.", "‚ÄîPer√≤ aix√≤ no t√© ", "res", " a veure, ara.", false],
    ["‚ÄîNo dig√°is nada m√°s, ya s√© qui√©n es.", "‚ÄîNo digueu ", "res", " m√©s, ja s√© qui √©s.", false],
    ["‚ÄîNada ‚Äîrespond√≠ por fuera.", "‚ÄîNo ", "res", " ‚Äîvaig respondre per fora.", false],
    ["De momento, nada de vino ni de tabaco.", "De moment, ", "res", " de vi ni de tabac.", false],
    ["No se me hab√≠a perdido nada aqu√≠.", "No se m'hi havia perdut ", "res", " aqu√≠.", false],
    ["En este mundo no hay nada seguro.", "En aquest m√≥n no hi ha ", "res", " segur.", false],
    ["Me parece que no me descuido nada.", "Em sembla que no em descuido ", "res", ".", false],
    ["Pero no hubo tiempo para nada.", "Per√≤ no hi va haver temps de ", "res", ".", false],
    ["Si no la molest√°is, no os har√° nada.", "Si no la molesteu, no us far√† ", "res", ".", false],
    ["‚Äî¬øQue os pens√°is que no pasar√° nada?", "‚ÄîQue us penseu que no passar√† ", "res", ".", false],
    ["‚ÄîYo no puedo hacer nada ‚Äîle dijo‚Äî.", "‚ÄîJo no hi puc fer ", "res", " ‚Äîva dir-li‚Äî.", false],
    ["‚ÄîNo me parece nada ‚Äîera la verdad‚Äî.", "‚ÄîNo em sembla ", "res", " ‚Äîera la veritat‚Äî.", false],
    ["‚ÄîNada, nada ‚Äîrespondi√≥ el Abel‚Äî.", "‚ÄîNo ", "res", ", no ", "res", " ‚Äîrespongu√© l'Abel‚Äî.", false],
    ["Si mucho conviene, no hay nada de nada.", "Si molt conv√©, no hi ha ", "res", " de ", "res", ".", false],
    ["Si no, deja ir jugo y no vale nada.", "Si no, deixa anar suc i no val ", "res", ".", false],
    ["Tranquil√≠zate, que no pasa nada.", "Tranquil¬∑litza't, que no passa ", "res", ".", false],
    ["Realmente, no hab√≠a sido casi nada.", "Realment, no havia estat quasi ", "res", ".", false],
    ["Pero no me arrepiento de nada, Lerena.", "Per√≤ no em penedeixo de ", "res", ", Lerena.", false],
    ["‚ÄîAh, nada: es una cosa de poca monta.", "‚ÄîAh, no ", "res", ": √©s una cosa poca-solta.", false],
    ["Ya sabes que los abejorros no hacen nada.", "Ja saps que els borinots no fan ", "res", ".", false],
    ["‚ÄîNo tengas miedo, que no te har√° nada.", "‚ÄîNo tinguis por, que no et far√† ", "res", ".", false],
    ["‚ÄîEs por su bien, no le ha pasado nada.", "‚Äî√âs pel seu b√©, no li ha passat ", "res", ".", false],
    ["‚Äî¬øLe importar√≠a quitarse el sombrero.", "‚ÄîLi faria ", "res", " de treure's el barret.", false],
    ["Hace d√≠as que no s√© nada ‚Äîrespondr√©‚Äî.", "Fa dies que no en s√© ", "res", " ‚Äîrespondr√©‚Äî.", false],
    ["‚Äî¬øTe molesta que te diga ¬´Cal√≠gula¬ª?", "‚ÄîEt fa ", "res", " que et digui ¬´Cal¬∑l√≠gula¬ª.", false],
    ["Quiero decir que, si me muero, nada de nada.", "Vull dir que, si em moro, ", "res", " de ", "res", ".", false],
    ["A partir de ahora, todo ir√° como si nada.", "A partir d'ara, tot anir√† com si ", "res", ".", false],
    ["A m√≠ no me pasaba nada irreparable.", "A mi no em passava ", "res", " d'irreparable.", false],
    ["Cuando √©ste llegue, no respondo de nada.", "Quan aquest arribi, no responc de ", "res", ".", false],
    ["Cuando ya no tenga humor para nada, ¬øeh?", "Quan ja no tingui humor per a ", "res", ", oi.", false],
    ["Los otros no cre√≠an nada, lo ignoraban.", "Els altres no creien ", "res", ", l'ignoraven.", false],
    ["No puedo explicar nada que venga de nuevo.", "No puc explicar ", "res", " que vingui de nou.", false],
    ["No se encuentra bien, ni mal, ni nada.", "No es troba b√©, ni malament, ni ", "res", ".", false],
    ["No sirve de nada alargar el martirio.", "No serveix de ", "res", " allargar el martiri.", false],
    ["Usaremos magnesio y no sentir√©is nada.", "Usarem magnesi i no us sentireu de ", "res", ".", false],
    ["L√°vatelas bien y no hagas nunca m√°s nada.", "Renta-te-les b√© i no facis mai m√©s ", "res", ".", false],
    ["‚ÄîNo veo nada ‚Äîafirm√≥ con rotundidad.", "‚ÄîNo hi veig ", "res", " ‚Äîafirm√† amb rotunditat.", false],
    ["‚ÄîNada ‚Äîle respondi√≥ el Rodasard√†‚Äî.", "‚ÄîNo ", "res", " ‚Äîva respondre-li en Rodasard√†‚Äî.", false],
    ["No he tenido nunca nada que se le asemeje.", "No he tingut mai ", "res", " que s'hi assembli.", false],
    ["√âl no ten√≠a nada concreto para explicar.", "Ell no tenia ", "res", " concret per a explicar.", false],
    ["La verdad es que no tuvo tiempo para nada.", "La veritat √©s que no tingu√© temps de ", "res", ".", false],
    ["¬´No te puedo prometer nada¬ª, dijo al amigo.", "¬´No et puc prometre ", "res", "¬ª, digu√© a l'amic.", false],
    ["A m√≠ no me cuesta nada tirar donde usted diga.", "A mi no em costa ", "res", " tirar on vost√® digui.", false],
    ["Las nubes no se quedan, ni viven, ni nada.", "Els n√∫vols no es queden, ni viuen, ni ", "res", ".", false],
    ["Y me consta que de √©sta no saben nada.", "I em consta que d'aquesta no en saben ", "res", ".", false],
    ["¬ªNunca he dicho nada a las chicas, por la calle.", "¬ªMai no he dit ", "res", " a les noies, pel carrer.", false],
    ["Os dar√© un poco de bicarbonato y nada m√°s.", "Us donar√© una mica de bicarbonat i ", "res", " m√©s.", false],
    ["‚ÄîNadie me ha dicho nada, ni falta que me hace.", "‚ÄîNing√∫ no m'ha dit ", "res", ", ni falta que em fa.", false],
    ["Saldr√°s al canal Grande en cosa de nada.", "Sortir√†s al canal Grande en cosa de no ", "res", ".", false],
    ["No me costaba nada, y le llev√© el agua.", "No em costava ", "res", ", i vaig portar-li l'aigua.", false],
    ["Las cosas eran as√≠ y no se pod√≠a hacer nada.", "Les coses eren aix√≠ i no s'hi podia fer ", "res", ".", false],
    ["Pero a partir de ahora ya no puedo ver nada m√°s.", "Per√≤ a partir d'ara ja no puc veure ", "res", " m√©s.", false],
    ["Vale m√°s ir haciendo y no cre√©rselos de nada¬ª.", "Val m√©s anar fent i no creure-se'ls de ", "res", "¬ª.", false],
    ["Y ellos que me responden: ¬´Cincuenta mil o nada.", "I ells que em responen: ¬´Cinquanta mil o ", "res", ".", false],
    ["‚ÄîPrimero que nada, os ten√©is que procurar la caja.", "‚ÄîPrimer que ", "res", ", us heu de procurar la caixa.", false],
    ["‚ÄîA tu primo no lo conozco de nada ‚Äîle dije‚Äî.", "‚ÄîAl teu cos√≠ no el conec de ", "res", " ‚Äîvaig dir-li.", false],
    ["¬´Si rompes algo¬ª, pensaba, ¬´ya me oir√°s¬ª.", "¬´Si trenques ", "res", "¬ª, pensava, ¬´ja em sentir√†s¬ª.", false],
    ["Deseng√°√±ate, en este mundo no dan nada m√°s.", "Desenganya't, en aquest m√≥n no donen ", "res", " m√©s.", false],
    ["De esta vida ya hace d√≠as que no espero nada.", "D'aquesta vida ja fa dies que no n'espero ", "res", ".", false],
    ["Hace a√±os que tomo Somnalina y no me pasa nada.", "Fa anys que prenc Somnalina i no em passa ", "res", ".", false],
    ["Bastante trabajo tenemos vigilando que no rompan nada.", "Prou feina tenim vigilant que no trenquin ", "res", ".", false],
    ["Me dijo que no sufriera, que no me pasar√≠a nada.", "Em digu√© que no pat√≠s, que no em passaria ", "res", ".", false],
    ["No, no le hab√≠a pasado nada que se le asemejase.", "No, no li havia passat ", "res", " que s'hi assembl√©s.", false],
    ["Entonces nada, nos queda la cuesti√≥n del favor.", "Aleshores ", "res", ", ens queda la q√ºesti√≥ del favor.", false],
    ["No se puede tocar nada hasta que venga la polic√≠a.", "No es pot tocar ", "res", " fins que vingui la policia.", false],
    ["‚ÄîA √©stos no les pasa nada ‚Äîcontest√≥ Zigonni‚Äî.", "‚ÄîA aquests no els passa ", "res", " ‚Äîcontest√† Zigonni‚Äî.", false],
    ["La primera, fue as√≠: ‚ÄîNo hay nada nuevo.", "La primera, va anar aix√≠: ‚ÄîNo hi ha ", "res", " de nou.", false],
    ["‚ÄîLe aseguro que no sab√≠a nada ‚Äîle dije‚Äî.", "‚ÄîLi asseguro que no en sabia ", "res", " ‚Äîvaig dir-li‚Äî.", false],
    ["‚ÄîNo es que tenga nada contra los cazadores, sabes.", "‚ÄîNo √©s que tingui ", "res", " contra els ca√ßadors, saps.", false],
    ["Doctor Benet: Tenemos que entender que no entendemos nada.", "Doctor Benet: Hem d'entendre que no entenem ", "res", ".", false],
    ["A m√≠ me hacen pagar una cuota extra, pero nada m√°s.", "A mi em fan pagar una quota extra, per√≤ ", "res", " m√©s.", false],
    ["‚ÄîNo toqu√©is nada hasta que venga la polic√≠a ‚Äîdijo.", "‚ÄîNo toqueu ", "res", " fins que vingui la policia ‚Äîdigu√©.", false],
    ["No hemos visto nada, no hemos o√≠do nada, no diremos nada.", "No hem vist ", "res", ", no hem sentit ", "res", ", no direm ", "res", ".", false],
    ["En mi balc√≥n no cae nada que no venga de arriba.", "Al meu balc√≥ no hi cau ", "res", " que no vingui de dalt.", false],
    ["Pero, ahora que me lo dice, no creo que pierda nada.", "Per√≤, ara que m'ho diu, no crec que hi perdi ", "res", ".", false],
    ["Le dije: ‚ÄîLa raz√≥n es m√≠a, no me pod√©is hacer nada.", "Vaig dir-li: ‚ÄîLa ra√≥ √©s meva, no em podeu fer ", "res", ".", false],
    ["¬´Seg√∫n el buen sentido, no hay nada de lo que vemos.", "¬´Segons el bon sentit, no hi ha ", "res", " del que veiem.", false],
    ["Y autoriz√≥ el sepelio, al cual no lamentamos nada.", "I autoritz√† el sepeli, al qual no vam pl√†nyer ", "res", ".", false],
    ["Que nadie toque nada hasta que venga la polic√≠a.", "Que ning√∫ no toqui ", "res", " fins que vingui la policia.", false],
    ["Pero tambi√©n intuyo que nunca nadie sabr√° nada¬ª.", "Per√≤ tamb√© intueixo que mai ning√∫ no en sabr√† ", "res", "¬ª.", false],
    ["No hay nada de importante que pueda hacerse a ciegas.", "No hi ha ", "res", " d'important que pugui fer-se a cegues.", false],
    ["No le gustaba nada a medias, ni nada que fuese inocuo.", "No li agradava ", "res", " a mitges, ni ", "res", " que fos innocu.", false],
    ["No se le ocurre nada m√°s y acaba as√≠ la oraci√≥n f√∫nebre.", "No se li acut ", "res", " m√©s i acaba aix√≠ l'oraci√≥ f√∫nebre.", false],
    ["Le aseguramos ella y yo que no nos conoc√≠amos de nada.", "Li assegur√†rem ella i jo que no ens coneix√≠em de ", "res", ".", false],
    ["Gente tranquila y desprevenida, que no sospecha nada.", "Gent tranquil¬∑la i desprevinguda, que no sospita ", "res", ".", false],
    ["A veces estos golpes de coraz√≥n no sirven para nada‚Äù.", "A vegades aquests cops de cor no serveixen per a ", "res", "‚Äù.", false],
    ["Por hablar de ello, no se pierde nada, y me har√°s quedar bien.", "Per parlar-ne, no s'hi perd ", "res", ", i em far√†s quedar b√©.", false],
    ["Desde entonces se puede decir que no pens√≥ en nada m√°s.", "Des d'aleshores es pot dir que no va pensar en ", "res", " m√©s.", false],
    ["No toquen el cad√°ver, ni nada, hasta que venga el juez.", "No toquin el cad√†ver, ni ", "res", ", fins que vingui el jutge.", false],
    ["‚ÄîEn estos momentos, joven, no se puede comprometer a nada.", "‚ÄîEn aquests moments, jove, no es pot comprometre a ", "res", ".", false],
    ["Nosotros no podemos hacer nada, porque el equipo funciona.", "Nosaltres no podem fer-hi ", "res", ", perqu√® l'equip funciona.", false],
    ["¬øTe parece que vale la pena arreglar algo en un caso as√≠?", "Et sembla que val la pena d'arreglar ", "res", " en un cas aix√≠.", false],
    ["Un nombre solo no es nada, si no corresponde a alguna cosa.", "Un nom tot sol no √©s ", "res", ", si no correspon a alguna cosa.", false],
    ["‚ÄîNo quiero ning√∫n examen, ni an√°lisis ni radiograf√≠as ni nada.", "‚ÄîNo vull cap examen, ni an√†lisis ni radiografies ni ", "res", ".", false],
    ["Dicen que no podemos llevarnos nada, pero yo lo probar√©.", "Diuen que no ens podem emportar ", "res", ", per√≤ jo ho provar√©.", false],
    ["No perder√° nada viendo el muestrario, sin ning√∫n compromiso.", "No hi perdr√† ", "res", " veient el mostrari, sense cap comprom√≠s.", false],
    ["S√© que soy este tal Marc por el retrato, pero no s√© nada m√°s.", "S√© que s√≥c aquest tal Marc pel retrat, per√≤ no s√© ", "res", " m√©s.", false],
    ["Pero yo insist√≠a, a pesar de los enfados, sin sacar nada.", "Per√≤ jo insistia, a despit dels renys, sense treure'n ", "res", ".", false],
    ["‚ÄîNo queremos decir nada que pueda interferir la acci√≥n de la ley.", "‚ÄîNo volem dir ", "res", " que pugui interferir l'acci√≥ de la llei.", false],
    ["‚ÄîEn ning√∫n caso.", "‚ÄîEn ", "cap", " cas.", false],
    ["‚ÄîNinguna, ni una.", "‚Äî", "cap", ", ni una.", false],
    ["De ninguna manera.", "De ", "cap", " manera.", false],
    ["‚ÄîDe ninguna manera.", "‚ÄîDe ", "cap", " manera.", false],
    ["‚ÄîDe ninguna manera.", "‚ÄîDe ", "cap", " manera.", false],
    ["‚ÄîNing√∫n precedente.", "‚Äî", "cap", " precedent.", false],
    ["‚ÄîNo tengo ninguna.", "‚ÄîNo en tinc ", "cap", ".", false],
    ["‚ÄîNo, molestia ninguna.", "‚ÄîNo, mol√®stia ", "cap", ".", false],
    ["No hab√≠a ninguna.", "No n'hi havia ", "cap", ".", false],
    ["‚ÄîNo, de ninguna manera.", "‚ÄîNo, de ", "cap", " manera.", false],
    ["El viejo gir√≥ la cabeza.", "El vell gir√† el ", "cap", ".", false],
    ["Subimos hacia la azotea.", "Pugem ", "cap", " al terrat.", false],
    ["No es ning√∫n mal, esto.", "No √©s ", "cap", " mal, aix√≤.", false],
    ["Yo no te quiero ning√∫n mal.", "Jo no et vull ", "cap", " mal.", false],
    ["‚Äîrumi√≥ el cabeza de familia.", "‚Äîremug√† el ", "cap", " de casa.", false],
    ["Gira hacia la izquierda.", "Tomba ", "cap", " a l'esquerra.", false],
    ["No le sali√≥ ninguna palabra.", "No li sort√≠ ", "cap", " paraula.", false],
    ["No huyo de ning√∫n compromiso.", "No fujo de ", "cap", " comprom√≠s.", false],
    ["‚ÄîSin ning√∫n tipo de duda.", "‚ÄîSense ", "cap", " mena de dubte.", false],
    ["Yo ir√© hacia all√≠ cuando pueda.", "Jo hi far√© ", "cap", " quan pugui.", false],
    ["¬´Les sube a la cabeza y abusan¬ª.", "¬´Els puja al ", "cap", " i abusen¬ª.", false],
    ["Yo temblaba de cabeza a pies.", "Jo tremolava de ", "cap", " a peus.", false],
    ["De molestia no les har√° ninguna.", "De nosa no els en far√† ", "cap", ".", false],
    ["(Hice que s√≠ con la cabeza.", "(Vaig fer que s√≠ amb el ", "cap", ".", false],
    ["A m√≠, no me cuesta ning√∫n esfuerzo.", "A mi, no em costa ", "cap", " esfor√ß.", false],
    ["No soy ning√∫n gran inventor, yo.", "No s√≥c ", "cap", " gran inventor, jo.", false],
    ["A la derecha, un fin de semana.", "A la dreta, un ", "cap", " de setmana.", false],
    ["‚Äîexpres√≥ el jefe del almac√©n.", "‚Äîexpress√† el ", "cap", " del magatzem.", false],
    ["No lo entender√≠an de ninguna manera.", "No ho entendrien de ", "cap", " manera.", false],
    ["No lo puedo admitir de ninguna manera.", "No ho puc admetre de ", "cap", " manera.", false],
    ["Pero Lalo ya no ten√≠a ninguna fuerza.", "Per√≤ Lalo ja no tenia ", "cap", " for√ßa.", false],
    ["¬´A√∫n me har√≠an bailar la cabeza.", "¬´Encara em farien ballar el ", "cap", ".", false],
    ["No s√© d√≥nde deb√≠a tener la cabeza.", "No s√© pas on devia tenir el ", "cap", ".", false],
    ["Vamos hacia a comer, que ya es hora.", "Anem ", "cap", " a dinar, que ja √©s hora.", false],
    ["De verdad, ya no le quer√≠an ning√∫n mal.", "De deb√≤, ja no li volien ", "cap", " mal.", false],
    ["¬´Yo no tengo ninguna culpa¬ª, dijo.", "¬´Jo no hi tinc ", "cap", " culpa¬ª, digu√©.", false],
    ["El √°lbum no me produjo ninguna sorpresa.", "L'√†lbum no em produ√≠ ", "cap", " sorpresa.", false],
    ["Pero entonces no hab√≠a ning√∫n tema.", "Per√≤ llavors no hi havia ", "cap", " tema.", false],
    [") y me dirig√≠a hacia mi mesa.", ") i em dirigia ", "cap", " a la meva taula.", false],
    ["‚ÄîS√≠ ‚Äîafirm√≥ al cabo de pocos segundos.", "‚ÄîS√≠ ‚Äîafirm√† al ", "cap", " de pocs segons.", false],
    ["Ten√≠a la cabeza espesa y la boca seca.", "Tenia el ", "cap", " esp√®s i la boca seca.", false],
    ["Un hombre que ten√≠a una cabeza tan clara.", "Un home que tenia un ", "cap", " tan clar.", false],
    ["Gritos y golpes de cabeza por las paredes.", "Crits i cops de ", "cap", " per les parets.", false],
    ["‚Äîgrit√≥ el cabeza de familia de repente‚Äî.", "‚Äîcrid√† el ", "cap", " de casa sobtadament‚Äî.", false],
    ["Si tu pobre madre alzara la cabeza.", "Si la teva pobra mare alc√©s el ", "cap", ".", false],
    ["De todo y de ninguna cosa, si mucho conviene.", "De tot i de ", "cap", " cosa, si molt conv√©.", false],
    ["Ya nos veremos este fin de semana.", "Ja ens veurem aquest ", "cap", " de setmana.", false],
    ["Aunque no tenga ninguna importancia.", "Encara que no tingui ", "cap", " import√†ncia.", false],
    ["Y a√±adi√≥: ‚ÄîLa casa le ha subido a la cabeza.", "I afeg√≠: ‚ÄîLa casa li ha pujat al ", "cap", ".", false],
    ["No ha visto nunca ning√∫n ataque de asma, usted.", "No ha vist mai ", "cap", " atac d'asma, vost√®.", false],
    ["No me pod√≠a sacar al japon√©s de la cabeza.", "No em podia treure el japon√®s del ", "cap", ".", false],
    ["Giro en redondo y me encamino hacia el puerto.", "Giro en rod√≥ i m'encamino ", "cap", " al port.", false],
    ["‚ÄîA m√≠ no ten√≠an ning√∫n derecho a meterse.", "‚ÄîA mi no tenien ", "cap", " dret a ficar-m'hi.", false],
    ["Ning√∫n muerto se debe levantar a las ocho.", "Cap mort no s'ha de llevar a les vuit.", false],
    ["‚ÄîD√≠gales que no tienen ninguna, de raz√≥n.", "‚ÄîDigui'ls que no en tenen ", "cap", ", de ra√≥.", false],
    ["Y yo, ya lo sabes, no doy ninguna molestia.", "I jo, ja ho saps, no dono ", "cap", " mol√®stia.", false],
    ["Pero yo, de mano, no pedir√© nunca ninguna.", "Per√≤ jo, de m√†, no en demanar√© mai ", "cap", ".", false],
    ["‚ÄîS√≠, es claro ‚Äîreplic√≥ el jefe sindical‚Äî.", "‚ÄîS√≠, √©s clar ‚Äîreplic√† el ", "cap", " sindical‚Äî.", false],
    ["No necesitas ninguna placa del ayuntamiento.", "No necessites ", "cap", " placa de l'ajuntament.", false],
    ["El caballero movi√≥ la cabeza dulcemente.", "El cavaller va moure el ", "cap", " dolgudament.", false],
    ["Lo estiramos hacia un rinc√≥n de la sala.", "El vam estirar ", "cap", " a un rac√≥ de la sala.", false],
    ["Os aseguro que no se perd√≠a ning√∫n detalle.", "Us asseguro que no es perdia ", "cap", " detall.", false],
    ["‚ÄîSe encaja en tierra sin ninguna dificultad.", "‚ÄîS'encaixa a terra sense ", "cap", " dificultat.", false],
    ["‚ÄîDe ninguna manera, se√±or rico, de ninguna manera.", "‚ÄîDe ", "cap", " manera, senyor ric, de ", "cap", " manera.", false],
    ["Ya s√© que Hargis te empuja hacia la locura.", "Ja s√© que Hargis t'empeny ", "cap", " a la follia.", false],
    ["Yo no me quitaba la letra de cambio de la cabeza.", "Jo no em treia la lletra de canvi del ", "cap", ".", false],
    ["Cr√©eme, no te tires ninguna piedra al h√≠gado.", "Creu-me, no t'hi tiris ", "cap", " pedra al fetge.", false],
    ["‚ÄîNo, al menos nadie ha hecho ninguna denuncia.", "‚ÄîNo, almenys ning√∫ no ha fet ", "cap", " den√∫ncia.", false],
    ["No hab√≠a visto nunca ninguna que diese tanto gusto‚Äù.", "No n'havia vist mai ", "cap", " que fes tant goig‚Äù.", false],
    ["Y se respond√≠a gravemente: ¬´No, de ninguna manera¬ª.", "I es responia greument: ¬´No, de ", "cap", " manera¬ª.", false],
    ["Despu√©s s√≠, me han llenado la cabeza de teor√≠as.", "Despr√©s s√≠, m'han omplert el ", "cap", " de teories.", false],
    ["‚ÄîPues en esta pared no hay ning√∫n enchufe.", "‚ÄîDoncs en aquesta paret no hi ha ", "cap", " endoll.", false],
    ["‚Äîpregunt√≥ √©l con los ojos fuera de la cabeza.", "‚Äîva preguntar ell amb els ulls fora del ", "cap", ".", false],
    ["Un peque√±o tornillo de vanadio no tiene ninguna importancia.", "Un petit vis de vanadi no t√© ", "cap", " import√†ncia.", false],
    ["El silencio no nos permitir√° ninguna fuga, Arnau.", "El silenci no ens permetr√† ", "cap", " fugida, Arnau.", false],
    ["Proced√≠a con calma, sin olvidar ning√∫n extremo.", "Procedia amb calma, sense oblidar ", "cap", " extrem.", false],
    ["No se trata de ning√∫n descubrimiento sensacional.", "No es tracta de ", "cap", " descobriment sensacional.", false],
    ["‚ÄîNo me digas que no has visto nunca ninguna sirena.", "‚ÄîNo em diguis que no has vist mai ", "cap", " sirena.", false],
    ["Ninguno de mis peque√±os actos de ahora se perder√°.", "Cap dels meus petits actes d'ara no es perdr√†.", false],
    ["Ahora solo pienso c√≥mo pasar√© el fin de semana.", "Ara nom√©s penso com passar√© el ", "cap", " de setmana.", false],
    ["Me agach√© cogiendo la cabeza con las manos.", "Em vaig ajupir agafant-me el ", "cap", " amb les mans.", false],
    ["Antes, el sol se met√≠a en la cabeza de los alborotados.", "Abans, el sol es ficava al ", "cap", " dels eixelebrats.", false],
    ["No hace nada de da√±o.", "No fa ", "gens de", " mal.", false],
    ["No est√° nada mal.", "No est√† ", "gens", " malament.", false],
    ["No se lo pens√≥ nada.", "No s'ho va rumiar ", "gens", ".", false],
    ["No estoy nada orgulloso.", "No n'estic ", "gens", " orgull√≥s.", false],
    ["No se le ve√≠a nada interesado.", "No se'l veia ", "gens", " interessat.", false],
    ["El defensa no se alter√≥ nada.", "El defensor no es va esverar ", "gens", ".", false],
    ["Antes no me gustaba nada, pero ahora s√≠.", "Abans no m'agradava ", "gens", ", per√≤ ara s√≠.", false],
    ["Hombre, yo, agradecido, no me siento nada.", "‚ÄîHome, jo, d'agra√Øt, no me'n sento ", "gens", ".", false],
    ["Es m√°s: la idea no me tranquiliza nada.", "√âs m√©s: la idea no em tranquil¬∑litza ", "gens", ".", false],
    ["A mi mujer no le hizo ninguna gracia.", "A la meva dona no va fer-li ", "gens de", " gr√†cia.", false],
    ["‚ÄîNo estoy nada seguro ‚Äîle respond√≠‚Äî.", "‚ÄîNo n'estic ", "gens", " segur ‚Äîvaig respondre-li‚Äî.", false],
    ["Si he de ser sincero, de tranquilo no estaba nada.", "Si he d'√©sser sincer, de tranquil no n'estava ", "gens", ".", false],
    ["Por ti no sufro nada, porque s√© que te saldr√°s adelante.", "Per tu no pateixo ", "gens", ", perqu√® s√© que te'n sortir√†s.", false],
    ["Estoy seguro de que no le importaba nada mi opini√≥n.", "Estic segur que no li importava ", "gens", " la meva opini√≥.", false]
  ];

  let currentPhrases = [];
  let score = 0;
  let completed = 0;

  /* BARREJA */
  function shuffle(arr) {
    const a = arr.slice();
    for (let i = a.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }

  /* GENERAR EXERCICI */
  function generaExercici(arr) {
    currentPhrases = arr;
    score = 0;
    completed = 0;
    updateProgress();
    
    const cont = document.getElementById('exercici');
    cont.innerHTML = "";

    arr.forEach((f, i) => {
      const [cast, inici, resp, final] = f;

      const fraseCompleta = `${inici} ${resp} ${final}`.replace(/\s+/g, " ").trim();

      const bloc = document.createElement("div");
      bloc.className = "phrase-block";

      bloc.innerHTML = `
        <p class="frase-cas"><strong>${i+1}.</strong> ${cast}</p>
        <p class="frase-cat">${inici}
          <input type="text"
                 data-index="${i}"
                 data-state="unchecked"
                 data-correct="${resp}"
                 data-complet="${fraseCompleta}">
          ${final}
          <button>Comprova</button>
        </p>
        <div class="correction"></div>
      `;

      cont.appendChild(bloc);

      const btn = bloc.querySelector("button");
      const input = bloc.querySelector("input");

      btn.addEventListener("click", () => comprovaIndividual(btn));

      input.addEventListener("keydown", e => {
        if (e.key === "Enter") {
          e.preventDefault();
          comprovaIndividual(btn);
        }
      });
      
      // Auto-focus en el primer camp
      if (i === 0) {
        setTimeout(() => input.focus(), 100);
      }
    });

    document.getElementById('controls').innerHTML = `
      <button onclick="comprovaTotes()">Comprova-ho tot</button>
      <button onclick="reinicia()">Esborra-ho tot</button>
      <button onclick="reiniciaAleatori()">üîÅ Frases noves</button>
    `;
  }

  function normalitza(t) {
    return t.trim().toLowerCase().replace(/[.,!?']/g, "");
  }

  function parla(text) {
    const s = window.speechSynthesis;
    if (s) {
      const u = new SpeechSynthesisUtterance(text);
      u.lang = "ca-ES";
      u.rate = 0.9;
      s.speak(u);
    }
  }

  /* COMPROVACI√ì */
  function comprovaIndividual(btn) {
    const bloc = btn.closest(".phrase-block");
    const input = bloc.querySelector("input");

    const correcta = normalitza(input.dataset.correct);
    const resposta = normalitza(input.value);
    const estatAnterior = input.dataset.state;
    const correccio = bloc.querySelector(".correction");
    const fraseCompleta = input.dataset.complet;

    const ok = (resposta === correcta);

    if (ok) {
      if (estatAnterior === "incorrect" || estatAnterior === "corrected") {
        input.classList.remove("incorrect", "correct");
        input.classList.add("corrected");
        correccio.innerHTML = `<span style="color:var(--color-warning);">‚úì Ara ja √©s correcte</span>`;
        input.dataset.state = "corrected";
      } else {
        input.classList.remove("incorrect", "corrected");
        input.classList.add("correct");
        correccio.innerHTML = `<span style="color:var(--color-success);">‚úì Correcte!</span>`;
        input.dataset.state = "correct";
        score++;
      }
      parla(fraseCompleta);
    } else {
      input.classList.remove("correct", "corrected");
      input.classList.add("incorrect");
      correccio.innerHTML = `<span style="color:var(--color-error);">‚ùå Resposta correcta: ${input.dataset.correct}</span>`;
      input.dataset.state = "incorrect";
      parla(fraseCompleta);
    }
    
    // Actualitzar progr√©s
    if (estatAnterior === "unchecked" && ok) {
      completed++;
      updateProgress();
    }
  }

  function comprovaTotes() {
    let encerts = 0;
    document.querySelectorAll(".phrase-block").forEach(bloc => {
      const input = bloc.querySelector("input");
      const estatAnterior = input.dataset.state;
      comprovaIndividual(bloc.querySelector("button"));
      if (input.classList.contains("correct") && estatAnterior === "unchecked") {
        encerts++;
      }
    });
    
    // Mostrar resultat final
    const percentatge = Math.round((score / currentPhrases.length) * 100);
    let missatge = `Has encertat ${score} de ${currentPhrases.length} (${percentatge}%). `;
    
    if (percentatge === 100) {
      missatge += "Excel¬∑lent! üéâ";
      document.getElementById("resultat").className = "success-message";
    } else if (percentatge >= 70) {
      missatge += "Molt b√©! üëè";
    } else if (percentatge >= 50) {
      missatge += "No est√† malament!";
    } else {
      missatge += "Continua practicant! üí™";
    }
    
    document.getElementById("resultat").innerHTML = missatge;
  }

  function reinicia() {
    document.querySelectorAll(".phrase-block").forEach(bloc => {
      const input = bloc.querySelector("input");
      input.value = "";
      input.classList.remove("correct", "incorrect", "corrected");
      input.dataset.state = "unchecked";
      bloc.querySelector(".correction").textContent = "";
    });
    
    score = 0;
    completed = 0;
    updateProgress();
    document.getElementById("resultat").textContent = "";
  }

  function reiniciaAleatori() {
    reinicia();
    generaExercici(shuffle(frases).slice(0, 10));
  }
  
  function updateProgress() {
    const progressBar = document.getElementById('progress-bar');
    const progressText = document.getElementById('progress-text');
    const scoreText = document.getElementById('score-text');
    
    const progressPercent = (completed / currentPhrases.length) * 100;
    progressBar.style.width = `${progressPercent}%`;
    progressText.textContent = `Progr√©s: ${completed}/${currentPhrases.length}`;
    scoreText.textContent = `Puntuaci√≥: ${score}/${currentPhrases.length}`;
  }

  document.addEventListener("DOMContentLoaded", () => {
    generaExercici(shuffle(frases).slice(0, 10));
  });
</script>

</body>
</html>
