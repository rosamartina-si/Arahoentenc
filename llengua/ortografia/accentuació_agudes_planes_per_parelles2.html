<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercici de Paraules</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            overflow: hidden;
        }
        canvas {
            background-color: #f0f0f0;
            display: block;
        }
        #inputContainer {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
        }
        input {
            font-size: 18px;
            padding: 10px;
            margin: 5px;
            width: 300px;
        }
        button {
            font-size: 18px;
            padding: 10px;
        }
        #feedback {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 32px;
            font-weight: bold;
            display: none;
            text-align: center;
        }
        #feedback.correct {
            color: green;
        }
        #feedback.incorrect {
            color: red;
        }
        #feedback.tryAgain {
            color: orange;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    <div id="inputContainer">
        <input type="text" id="userInput" placeholder="Escriu la paraula amb guionets">
        <button onclick="checkAnswer()">Comprovar</button>
    </div>
    <div id="feedback"></div>

    <script>
    // Mostrar una alerta amb instruccions abans de comen√ßar
alert("üì¢ Benvingut al joc d'ortografia! ‚úèÔ∏è\n\n" +
      "üîπ Escriu la paraula amb accent quan calgui.\n" +
      "üîπ Per exemple, si apareix 'examens', has d'escriure 'ex√†mens'.\n\n" +
      "üìñ Recorda aquestes regles b√†siques d'accentuaci√≥:\n" +
      
      "‚úÖ Accentuem les paraules agudes quan acaben en una d'aquestes 12 terminacions: a, e, i, o, u, as, es, is, os, us, en, in.\n" +
      "   ‚ú® **‚ö†Ô∏è Compte amb aquestes parelles:**\n" +
      "      - **acci√≥** per√≤ **accions** (el plural ja no acaba en una d'aquestes 12 terminacions, per tant NO s'accentua!)\n" +
      "      - **ent√©n** per√≤ **entens**\n\n" +

      "‚úÖ Accentuem les paraules planes quan NO acaben en aquestes 12 terminacions: a, e, i, o, u, as, es, is, os, us, en, in.\n" +
      "   ‚ú® **‚ö†Ô∏è Compte amb aquestes parelles:**\n" +
      "      - **examen** per√≤ **ex√†mens** (el plural ja no acaba en -en, per tant s'accentua!)\n" +
      "      - **origen** per√≤ **or√≠gens**\n" +
      "      - **jugaven** per√≤ **jug√†vem** i **\"jug√†veu\"**\n\n" +

      "üéØ Prepara't i molta sort! üçÄ"); 

        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // Paraules disponibles
        const allWords = [
    	    { word: "accio",      solution: "acci√≥" },
       	    { word: "relacio",    solution: "relaci√≥" },
            { word: "relacions",  solution: "relacions" },
            { word: "opinio",     solution: "opini√≥" },
            { word: "opinions",   solution: "opinions" },
            { word: "educacio",   solution: "educaci√≥" },
            { word: "educacions", solution: "educacions" },
            { word: "nacio",      solution: "naci√≥" },
            { word: "nacions",    solution: "nacions" },
            { word: "tradicio",   solution: "tradici√≥" },
            { word: "tradicions", solution: "tradicions" },
            { word: "definicions", solution: "definicions" },
            { word: "direccio", solution: "direcci√≥" },
            { word: "direccions", solution: "direccions" },
            { word: "produccio", solution: "producci√≥" },
            { word: "produccions", solution: "produccions" },
            { word: "col¬∑leccio", solution: "col¬∑lecci√≥" },
            { word: "col¬∑leccions", solution: "col¬∑leccions" },
            { word: "decisio", solution: "decisi√≥" },
            { word: "decisions", solution: "decisions" },
            { word: "professio", solution: "professi√≥" },
            { word: "professions", solution: "professions" },
            { word: "condicio", solution: "condici√≥" },
            { word: "condicions", solution: "condicions" },
            { word: "instruccio", solution: "instrucci√≥" },
            { word: "instruccions", solution: "instruccions" },
            { word: "informacio", solution: "informaci√≥" },
            { word: "informacions", solution: "informacions" },
            { word: "conversio", solution: "conversi√≥" },
            { word: "conversions", solution: "conversions" },
            { word: "destruccio", solution: "destrucci√≥" },
            { word: "destruccions", solution: "destruccions" },
            { word: "investigacio", solution: "investigaci√≥" },
            { word: "investigacions", solution: "investigacions" },
            { word: "delegacio", solution: "delegaci√≥" },
            { word: "delegacions", solution: "delegacions" },
            { word: "depen",   solution: "dep√®n" },    
            { word: "enten",   solution: "ent√©n" },    
            { word: "compren", solution: "compr√®n" },
            { word: "depens",   solution: "depens" },    
            { word: "entens",   solution: "entens" },    
            { word: "comprens", solution: "comprens" },
            { word: "examen",      solution: "examen" },
            { word: "examens",    solution: "examens" },
            { word: "dormen", solution: "dormen" },  
            { word: "element", solution: "element" },  
            { word: "diferent", solution: "diferent" },  
            { word: "ocurrent", solution: "ocurrent" },  
            { word: "present", solution: "present" },  
            { word: "recent", solution: "recent" },  
            { word: "urgent", solution: "urgent" },  
            { word: "potent", solution: "potent" },  
            { word: "consistent", solution: "consistent" },  
            { word: "influent", solution: "influent" },  
            { word: "insistent", solution: "insistent" },  
            { word: "persistent", solution: "persistent" },  
            { word: "suficient", solution: "suficient" }, 
            { word: "elements", solution: "elements" },  
            { word: "diferents", solution: "diferents" },  
            { word: "ocurrents", solution: "ocurrents" },  
            { word: "presents", solution: "presents" },  
            { word: "recents", solution: "recents" },  
            { word: "urgents", solution: "urgents" },  
            { word: "potent", solution: "potent" },  
            { word: "consistent", solution: "consistent" },  
            { word: "influent", solution: "influent" },  
            { word: "insistent", solution: "insistent" },  
            { word: "persistent", solution: "persistent" },  
            { word: "suficient", solution: "suficient" }, 
            { word: "elements", solution: "elements" },  
            { word: "diferents", solution: "diferents" },  
            { word: "ocurrents", solution: "ocurrents" },  
            { word: "presents", solution: "presents" },  
            { word: "recents", solution: "recents" },  
            { word: "urgents", solution: "urgents" },  
            { word: "potents", solution: "potents" },  
            { word: "consistents", solution: "consistents" },  
            { word: "influents", solution: "influents" },  
            { word: "insistents", solution: "insistents" },  
            { word: "persistents", solution: "persistents" },  
            { word: "suficients", solution: "suficients" }, 
            { word: "origen", solution: "origen" },
            { word: "origens", solution: "or√≠gens" },
            { word: "arriben", solution: "arriben" },
            { word: "menjaven", solution: "menjaven" }, 
            { word: "menjavem", solution: "menj√†vem" }, 
            { word: "menjaveu", solution: "menj√†veu" }, 
            { word: "parlaven", solution: "parlaven" },
            { word: "parlavem", solution: "parl√†vem" },
            { word: "parlaveu", solution: "parl√†veu" },
            { word: "jugaven", solution: "jugaven" },
            { word: "jugavem", solution: "jug√†vem" },
            { word: "jugaveu", solution: "jug√†veu" },
            { word: "corrien", solution: "corrien" }, 
            { word: "corriem", solution: "corr√≠em" }, 
            { word: "corrieu", solution: "corr√≠eu" }, 
            { word: "vivien", solution: "vivien" },
            { word: "viviem", solution: "viv√≠em" },
            { word: "vivieu", solution: "viv√≠eu" },
            { word: "cantaven", solution: "cantaven" },
            { word: "cantavem", solution: "cant√†vem" },
            { word: "cantaveu", solution: "cant√†veu" },
            { word: "ballaven", solution: "ballaven" },
            { word: "ballavem", solution: "ball√†vem" },
            { word: "ballaveu", solution: "ball√†veu" },
            { word: "escrivien", solution: "escrivien" },
            { word: "escriviem", solution: "escriv√≠em" },
            { word: "escrivieu", solution: "escriv√≠eu" },
            { word: "llegien", solution: "llegien" },
            { word: "llegiem", solution: "lleg√≠em" },
            { word: "llegieu", solution: "lleg√≠eu" },
            { word: "pintaven", solution: "pintaven" },
            { word: "pintavem", solution: "pint√†vem" },
            { word: "pintaveu", solution: "pint√†veu" },
            { word: "regaven", solution: "regaven" },
            { word: "regavem", solution: "reg√†vem" },
            { word: "regaveu", solution: "reg√†veu" },
            { word: "saltaven", solution: "saltaven" },
            { word: "saltavem", solution: "salt√†vem" },
            { word: "saltaveu", solution: "salt√†veu" },
            { word: "caminaven", solution: "caminaven" },
            { word: "caminavem", solution: "camin√†vem" },
            { word: "caminaveu", solution: "camin√†veu" },
            { word: "havien", solution: "havien" },
            { word: "haviem", solution: "hav√≠em" },
            { word: "havieu", solution: "hav√≠eu" },
            { word: "tenien", solution: "tenien" },
            { word: "teniem", solution: "ten√≠em" },
            { word: "tenieu", solution: "ten√≠eu" },
            { word: "anaven", solution: "anaven" },
            { word: "anavem", solution: "an√†vem" },
            { word: "anaveu", solution: "an√†veu" },
            { word: "acabaven", solution: "acabaven" },
            { word: "acabavem", solution: "acab√†vem" },
            { word: "acabaveu", solution: "acab√†veu" },
            { word: "agafaven", solution: "agafaven" },
            { word: "agafavem", solution: "agaf√†vem" },
            { word: "agafaveu", solution: "agaf√†veu" },
            { word: "arribaven", solution: "arribaven" },
            { word: "arribavem", solution: "arrib√†vem" },
            { word: "arribaveu", solution: "arrib√†veu" },
            { word: "queien", solution: "queien" },
            { word: "queiem", solution: "qu√®iem" },
            { word: "queieu", solution: "qu√®ieu" },
            { word: "comen√ßaven", solution: "comen√ßaven" },
            { word: "comen√ßavem", solution: "comen√ß√†vem" },
            { word: "comen√ßaveu", solution: "comen√ß√†veu" },
            { word: "compraven", solution: "compraven" },
            { word: "compravem", solution: "compr√†vem" },
            { word: "compraveu", solution: "compr√†veu" },
            { word: "venien", solution: "venien" },
            { word: "veniem", solution: "ven√≠em" },
            { word: "venieu", solution: "ven√≠eu" },
            { word: "conduien", solution: "conduien" },
            { word: "conduiem", solution: "condu√≠em" },
            { word: "conduieu", solution: "condu√≠eu" },
            { word: "coneixien", solution: "coneixien" },
            { word: "coneixiem", solution: "coneix√≠em" },
            { word: "coneixieu", solution: "coneix√≠eu" },
            { word: "demanaven", solution: "demanaven" },
            { word: "demanavem", solution: "deman√†vem" },
            { word: "demanaveu", solution: "deman√†veu" },
            { word: "feien", solution: "feien" },
            { word: "feiem", solution: "f√®iem" },
            { word: "feieu", solution: "f√®ieu" },
            { word: "deien", solution: "deien" },
            { word: "deiem", solution: "d√®iem" },
            { word: "deieu", solution: "d√®ieu" },
            { word: "dormien", solution: "dormien" },
            { word: "dormiem", solution: "dorm√≠em" },
            { word: "dormieu", solution: "dorm√≠eu" },
            { word: "decidien", solution: "decidien" },
            { word: "decidiem", solution: "decid√≠em" },
            { word: "decidieu", solution: "decid√≠eu" },
            { word: "sentien", solution: "sentien" },
            { word: "sentiem", solution: "sent√≠em" },
            { word: "sentieu", solution: "sent√≠eu" },
            { word: "fessis", solution: "fessis" },
            { word: "fessim", solution: "f√©ssim" },
            { word: "fessiu", solution: "f√©ssiu" },
            { word: "anessis", solution: "anessis" },
            { word: "anessim", solution: "an√©ssim" },
            { word: "anessiu", solution: "an√©ssiu" },
            { word: "tinguessis", solution: "tinguessis" },
            { word: "tinguessim", solution: "tingu√©ssim" },
            { word: "tinguessiu", solution: "tingu√©ssiu" },
            { word: "haguessis", solution: "haguessis" },
            { word: "haguessim", solution: "hagu√©ssim" },
            { word: "haguessiu", solution: "hagu√©ssiu" },
            { word: "regim", solution: "r√®gim" },  
            { word: "regims", solution: "r√®gims" }, 
            { word: "aborigen", solution: "aborigen" },
            { word: "aborigens", solution: "abor√≠gens" },
            { word: "abdomen", solution: "abdomen" },
            { word: "abdomens", solution: "abd√≤mens" },
            { word: "fenomen", solution: "fenomen" },
            { word: "fenomens", solution: "fen√≤mens" },
            { word: "germen", solution: "germen" },
            { word: "germens", solution: "g√®rmens" },
            { word: "canons", solution: "canons" },
            { word: "Ramon", solution: "Ramon" },
            { word: "malson", solution: "malson" },
            { word: "malsons", solution: "malsons" },
            { word: "pentagon", solution: "pent√†gon" },
            { word: "pentagons", solution: "pent√†gons" },
            { word: "rodamon", solution: "rodamon" },
            { word: "rodamons", solution: "rodamons" },
            { word: "segon", solution: "segon" },
            { word: "segons", solution: "segons" },
            { word: "telefon", solution: "tel√®fon" },
            { word: "telefons", solution: "tel√®fons" },
            { word: "arran", solution: "arran" },
            { word: "caiman", solution: "caiman" },
            { word: "caimans", solution: "caimans" },
            { word: "durant", solution: "durant" },
            { word: "organ", solution: "√≤rgan" },
            { word: "organs", solution: "√≤rgans" },
            { word: "platan", solution: "pl√†tan" },
            { word: "platans", solution: "pl√†tans" },
            { word: "tobogan", solution: "tobogan" },
            { word: "tobogans", solution: "tobogans" },
            { word: "algun", solution: "algun" },
            { word: "alguns", solution: "alguns" },
            { word: "Berlin", solution: "Berl√≠n" },
            { word: "Dublin", solution: "Dubl√≠n" }
        ];

        // Seleccionem 20 paraules a l'atzar
        let words = allWords.sort(() => 0.5 - Math.random()).slice(0, 20);

        let incorrectWords = [];
        let currentWordObj = null;
        let fallingWord = { x: 0, y: 0, speed: 0.2 };
        let isGameActive = true;

        const userInput = document.getElementById('userInput');
        const feedback = document.getElementById('feedback');

        function focusInput() {
            userInput.focus();
        }

        function showFeedback(message, className) {
            feedback.textContent = message;
            feedback.className = className;
            feedback.style.display = 'block';

            setTimeout(() => {
                feedback.style.display = 'none';
            }, 2000);
        }

        function startNewWord() {
            if (!currentWordObj && words.length > 0) {
                currentWordObj = words.shift();
            } else if (!currentWordObj && incorrectWords.length > 0) {
                currentWordObj = incorrectWords.shift();
            } else if (!currentWordObj) {
                isGameActive = false;
                showFeedback('Exercici completat! üèÜ', 'correct');
                return;
            }
            fallingWord = {
                x: Math.random() * (canvas.width - 100),
                y: 0,
                speed: 0.2 + Math.random() * 0.3,
            };
        }

        function updateGame() {
            if (!isGameActive) return;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            if (currentWordObj) {
                fallingWord.y += fallingWord.speed;
                ctx.font = '24px Arial';
                ctx.fillStyle = 'black';
                ctx.fillText(currentWordObj.word, fallingWord.x, fallingWord.y);

                if (fallingWord.y > canvas.height) {
                    showFeedback(`Soluci√≥: ${currentWordObj.solution}`, 'incorrect');
                    incorrectWords.push(currentWordObj);
                    currentWordObj = null;
                    setTimeout(() => startNewWord(), 2000);
                }
            }

            requestAnimationFrame(updateGame);
        }

        function checkAnswer() {
            const userInputValue = userInput.value.trim();

            if (currentWordObj && userInputValue === currentWordObj.solution) {
                showFeedback('‚úì Correcte!', 'correct');
                currentWordObj = null;
                startNewWord();
            } else if (currentWordObj) {
                showFeedback('Segueix-ho intentant! üí™', 'tryAgain');
            }

            userInput.value = '';
            focusInput();
        }

        userInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                checkAnswer();
            }
        });

        focusInput();
        startNewWord();
        updateGame();
    </script>
</body>
</html>
