<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercici de Paraules</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            overflow: hidden;
        }
        canvas {
            background-color: #f0f0f0;
            display: block;
        }
        #inputContainer {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
        }
        input {
            font-size: 18px;
            padding: 10px;
            margin: 5px;
            width: 300px;
        }
        button {
            font-size: 18px;
            padding: 10px;
        }
        #feedback {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 32px;
            font-weight: bold;
            display: none;
            text-align: center;
        }
        #feedback.correct {
            color: green;
        }
        #feedback.incorrect {
            color: red;
        }
        #feedback.tryAgain {
            color: orange;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    <div id="inputContainer">
        <input type="text" id="userInput" placeholder="Escriu la paraula amb guionets">
        <button onclick="checkAnswer()">Comprovar</button>
    </div>
    <div id="feedback"></div>

    <script>
    // Mostrar una alerta amb instruccions abans de comenÃ§ar
alert("ðŸ“¢ Benvingut al joc d'ortografia! âœï¸\n\n" +
      "ðŸ”¹ Escriu la paraula amb accent quan calgui.\n" +
      "ðŸ”¹ Per exemple, si apareix 'examens', has d'escriure 'exÃ mens'.\n\n" +
      "ðŸ“– Recorda aquestes regles bÃ siques d'accentuaciÃ³:\n" +
      
      "âœ… Accentuem les paraules agudes quan acaben en una d'aquestes 12 terminacions: a, e, i, o, u, as, es, is, os, us, en, in.\n" +
      "   âœ¨ **âš ï¸ Compte amb aquestes parelles:**\n" +
      "      - **acciÃ³** perÃ² **accions** (el plural ja no acaba en una d'aquestes 12 terminacions, per tant NO s'accentua!)\n" +
      "      - **entÃ©n** perÃ² **entens**\n\n" +

      "âœ… Accentuem les paraules planes quan NO acaben en aquestes 12 terminacions: a, e, i, o, u, as, es, is, os, us, en, in.\n" +
      "   âœ¨ **âš ï¸ Compte amb aquestes parelles:**\n" +
      "      - **examen** perÃ² **exÃ mens** (el plural ja no acaba en -en, per tant s'accentua!)\n" +
      "      - **origen** perÃ² **orÃ­gens**\n" +
      "      - **jugaven** perÃ² **jugÃ vem** i **\"jugÃ veu\"**\n\n" +

      "ðŸŽ¯ Prepara't i molta sort! ðŸ€"); 

        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // Paraules disponibles
        const allWords = [
    	    { word: "accio",      solution: "acciÃ³" },
       	    { word: "relacio",    solution: "relaciÃ³" },
            { word: "relacions",  solution: "relacions" },
            { word: "opinio",     solution: "opiniÃ³" },
            { word: "opinions",   solution: "opinions" },
            { word: "educacio",   solution: "educaciÃ³" },
            { word: "educacions", solution: "educacions" },
            { word: "nacio",      solution: "naciÃ³" },
            { word: "nacions",    solution: "nacions" },
            { word: "tradicio",   solution: "tradiciÃ³" },
            { word: "tradicions", solution: "tradicions" },
            { word: "definicions", solution: "definicions" },
            { word: "direccio", solution: "direcciÃ³" },
            { word: "direccions", solution: "direccions" },
            { word: "produccio", solution: "producciÃ³" },
            { word: "produccions", solution: "produccions" },
            { word: "colÂ·leccio", solution: "colÂ·lecciÃ³" },
            { word: "colÂ·leccions", solution: "colÂ·leccions" },
            { word: "decisio", solution: "decisiÃ³" },
            { word: "decisions", solution: "decisions" },
            { word: "professio", solution: "professiÃ³" },
            { word: "professions", solution: "professions" },
            { word: "condicio", solution: "condiciÃ³" },
            { word: "condicions", solution: "condicions" },
            { word: "instruccio", solution: "instrucciÃ³" },
            { word: "instruccions", solution: "instruccions" },
            { word: "informacio", solution: "informaciÃ³" },
            { word: "informacions", solution: "informacions" },
            { word: "conversio", solution: "conversiÃ³" },
            { word: "conversions", solution: "conversions" },
            { word: "destruccio", solution: "destrucciÃ³" },
            { word: "destruccions", solution: "destruccions" },
            { word: "investigacio", solution: "investigaciÃ³" },
            { word: "investigacions", solution: "investigacions" },
            { word: "delegacio", solution: "delegaciÃ³" },
            { word: "delegacions", solution: "delegacions" },
            { word: "depen",   solution: "depÃ¨n" },    
            { word: "enten",   solution: "entÃ©n" },    
            { word: "compren", solution: "comprÃ¨n" },
            { word: "depens",   solution: "depens" },    
            { word: "entens",   solution: "entens" },    
            { word: "comprens", solution: "comprens" },
            { word: "examen",      solution: "examen" },
            { word: "examens",    solution: "examens" },
            { word: "dormen", solution: "dormen" },  
            { word: "element", solution: "element" },  
            { word: "diferent", solution: "diferent" },  
            { word: "ocurrent", solution: "ocurrent" },  
            { word: "present", solution: "present" },  
            { word: "recent", solution: "recent" },  
            { word: "urgent", solution: "urgent" },  
            { word: "potent", solution: "potent" },  
            { word: "consistent", solution: "consistent" },  
            { word: "influent", solution: "influent" },  
            { word: "insistent", solution: "insistent" },  
            { word: "persistent", solution: "persistent" },  
            { word: "suficient", solution: "suficient" }, 
            { word: "elements", solution: "elements" },  
            { word: "diferents", solution: "diferents" },  
            { word: "ocurrents", solution: "ocurrents" },  
            { word: "presents", solution: "presents" },  
            { word: "recents", solution: "recents" },  
            { word: "urgents", solution: "urgents" },  
            { word: "potent", solution: "potent" },  
            { word: "consistent", solution: "consistent" },  
            { word: "influent", solution: "influent" },  
            { word: "insistent", solution: "insistent" },  
            { word: "persistent", solution: "persistent" },  
            { word: "suficient", solution: "suficient" }, 
            { word: "elements", solution: "elements" },  
            { word: "diferents", solution: "diferents" },  
            { word: "ocurrents", solution: "ocurrents" },  
            { word: "presents", solution: "presents" },  
            { word: "recents", solution: "recents" },  
            { word: "urgents", solution: "urgents" },  
            { word: "potents", solution: "potents" },  
            { word: "consistents", solution: "consistents" },  
            { word: "influents", solution: "influents" },  
            { word: "insistents", solution: "insistents" },  
            { word: "persistents", solution: "persistents" },  
            { word: "suficients", solution: "suficients" }, 
            { word: "origen", solution: "origen" },
            { word: "origens", solution: "orÃ­gens" },
            { word: "arriben", solution: "arriben" },
            { word: "menjaven", solution: "menjaven" }, 
            { word: "menjavem", solution: "menjÃ vem" }, 
            { word: "menjaveu", solution: "menjÃ veu" }, 
            { word: "parlaven", solution: "parlaven" },
            { word: "parlavem", solution: "parlÃ vem" },
            { word: "parlaveu", solution: "parlÃ veu" },
            { word: "jugaven", solution: "jugaven" },
            { word: "jugavem", solution: "jugÃ vem" },
            { word: "jugaveu", solution: "jugÃ veu" },
            { word: "corrien", solution: "corrien" }, 
            { word: "corriem", solution: "corrÃ­em" }, 
            { word: "corrieu", solution: "corrÃ­eu" }, 
            { word: "vivien", solution: "vivien" },
            { word: "viviem", solution: "vivÃ­em" },
            { word: "vivieu", solution: "vivÃ­eu" },
            { word: "cantaven", solution: "cantaven" },
            { word: "cantavem", solution: "cantÃ vem" },
            { word: "cantaveu", solution: "cantÃ veu" },
            { word: "ballaven", solution: "ballaven" },
            { word: "ballavem", solution: "ballÃ vem" },
            { word: "ballaveu", solution: "ballÃ veu" },
            { word: "escrivien", solution: "escrivien" },
            { word: "escriviem", solution: "escrivÃ­em" },
            { word: "escrivieu", solution: "escrivÃ­eu" },
            { word: "llegien", solution: "llegien" },
            { word: "llegiem", solution: "llegÃ­em" },
            { word: "llegieu", solution: "llegÃ­eu" },
            { word: "pintaven", solution: "pintaven" },
            { word: "pintavem", solution: "pintÃ vem" },
            { word: "pintaveu", solution: "pintÃ veu" },
            { word: "regaven", solution: "regaven" },
            { word: "regavem", solution: "regÃ vem" },
            { word: "regaveu", solution: "regÃ veu" },
            { word: "saltaven", solution: "saltaven" },
            { word: "saltavem", solution: "saltÃ vem" },
            { word: "saltaveu", solution: "saltÃ veu" },
            { word: "caminaven", solution: "caminaven" },
            { word: "caminavem", solution: "caminÃ vem" },
            { word: "caminaveu", solution: "caminÃ veu" },
            { word: "havien", solution: "havien" },
            { word: "haviem", solution: "havÃ­em" },
            { word: "havieu", solution: "havÃ­eu" },
            { word: "tenien", solution: "tenien" },
            { word: "teniem", solution: "tenÃ­em" },
            { word: "tenieu", solution: "tenÃ­eu" },
            { word: "anaven", solution: "anaven" },
            { word: "anavem", solution: "anÃ vem" },
            { word: "anaveu", solution: "anÃ veu" },
            { word: "acabaven", solution: "acabaven" },
            { word: "acabavem", solution: "acabÃ vem" },
            { word: "acabaveu", solution: "acabÃ veu" },
            { word: "agafaven", solution: "agafaven" },
            { word: "agafavem", solution: "agafÃ vem" },
            { word: "agafaveu", solution: "agafÃ veu" },
            { word: "arribaven", solution: "arribaven" },
            { word: "arribavem", solution: "arribÃ vem" },
            { word: "arribaveu", solution: "arribÃ veu" },
            { word: "queien", solution: "queien" },
            { word: "queiem", solution: "quÃ¨iem" },
            { word: "queieu", solution: "quÃ¨ieu" },
            { word: "comenÃ§aven", solution: "comenÃ§aven" },
            { word: "comenÃ§avem", solution: "comenÃ§Ã vem" },
            { word: "comenÃ§aveu", solution: "comenÃ§Ã veu" },
            { word: "compraven", solution: "compraven" },
            { word: "compravem", solution: "comprÃ vem" },
            { word: "compraveu", solution: "comprÃ veu" },
            { word: "venien", solution: "venien" },
            { word: "veniem", solution: "venÃ­em" },
            { word: "venieu", solution: "venÃ­eu" },
            { word: "conduien", solution: "conduien" },
            { word: "conduiem", solution: "conduÃ­em" },
            { word: "conduieu", solution: "conduÃ­eu" },
            { word: "coneixien", solution: "coneixien" },
            { word: "coneixiem", solution: "coneixÃ­em" },
            { word: "coneixieu", solution: "coneixÃ­eu" },
            { word: "demanaven", solution: "demanaven" },
            { word: "demanavem", solution: "demanÃ vem" },
            { word: "demanaveu", solution: "demanÃ veu" },
            { word: "feien", solution: "feien" },
            { word: "feiem", solution: "fÃ¨iem" },
            { word: "feieu", solution: "fÃ¨ieu" },
            { word: "deien", solution: "deien" },
            { word: "deiem", solution: "dÃ¨iem" },
            { word: "deieu", solution: "dÃ¨ieu" },
            { word: "dormien", solution: "dormien" },
            { word: "dormiem", solution: "dormÃ­em" },
            { word: "dormieu", solution: "dormÃ­eu" },
            { word: "decidien", solution: "decidien" },
            { word: "decidiem", solution: "decidÃ­em" },
            { word: "decidieu", solution: "decidÃ­eu" },
            { word: "sentien", solution: "sentien" },
            { word: "sentiem", solution: "sentÃ­em" },
            { word: "sentieu", solution: "sentÃ­eu" },
            { word: "fessis", solution: "fessis" },
            { word: "fessim", solution: "fÃ©ssim" },
            { word: "fessiu", solution: "fÃ©ssiu" },
            { word: "anessis", solution: "anessis" },
            { word: "anessim", solution: "anÃ©ssim" },
            { word: "anessiu", solution: "anÃ©ssiu" },
            { word: "tinguessis", solution: "tinguessis" },
            { word: "tinguessim", solution: "tinguÃ©ssim" },
            { word: "tinguessiu", solution: "tinguÃ©ssiu" },
            { word: "haguessis", solution: "haguessis" },
            { word: "haguessim", solution: "haguÃ©ssim" },
            { word: "haguessiu", solution: "haguÃ©ssiu" },
            { word: "regim", solution: "rÃ¨gim" },  
            { word: "regims", solution: "rÃ¨gims" }, 
            { word: "aborigen", solution: "aborigen" },
            { word: "aborigens", solution: "aborÃ­gens" },
            { word: "abdomen", solution: "abdomen" },
            { word: "abdomens", solution: "abdÃ²mens" },
            { word: "fenomen", solution: "fenomen" },
            { word: "fenomens", solution: "fenÃ²mens" },
            { word: "germen", solution: "germen" },
            { word: "germens", solution: "gÃ¨rmens" },
            { word: "canons", solution: "canons" },
            { word: "Ramon", solution: "Ramon" },
            { word: "malson", solution: "malson" },
            { word: "malsons", solution: "malsons" },
            { word: "pentagon", solution: "pentÃ gon" },
            { word: "pentagons", solution: "pentÃ gons" },
            { word: "rodamon", solution: "rodamon" },
            { word: "rodamons", solution: "rodamons" },
            { word: "segon", solution: "segon" },
            { word: "segons", solution: "segons" },
            { word: "telefon", solution: "telÃ¨fon" },
            { word: "telefons", solution: "telÃ¨fons" },
            { word: "arran", solution: "arran" },
            { word: "caiman", solution: "caiman" },
            { word: "caimans", solution: "caimans" },
            { word: "durant", solution: "durant" },
            { word: "organ", solution: "Ã²rgan" },
            { word: "organs", solution: "Ã²rgans" },
            { word: "platan", solution: "plÃ tan" },
            { word: "platans", solution: "plÃ tans" },
            { word: "tobogan", solution: "tobogan" },
            { word: "tobogans", solution: "tobogans" },
            { word: "algun", solution: "algun" },
            { word: "alguns", solution: "alguns" },
            { word: "Berlin", solution: "BerlÃ­n" },
            { word: "Dublin", solution: "DublÃ­n" }
        ];

        // Seleccionem 20 paraules a l'atzar
        let words = allWords.sort(() => 0.5 - Math.random()).slice(0, 20);

        let incorrectWords = [];
        let currentWordObj = null;
        let fallingWord = { x: 0, y: 0, speed: 0.2 };
        let isGameActive = true;

        const userInput = document.getElementById('userInput');
        const feedback = document.getElementById('feedback');

        function focusInput() {
            userInput.focus();
        }

        function showFeedback(message, className) {
            feedback.textContent = message;
            feedback.className = className;
            feedback.style.display = 'block';

            setTimeout(() => {
                feedback.style.display = 'none';
            }, 2000);
        }

        function startNewWord() {
            if (!currentWordObj && words.length > 0) {
                currentWordObj = words.shift();
            } else if (!currentWordObj && incorrectWords.length > 0) {
                currentWordObj = incorrectWords.shift();
            } else if (!currentWordObj) {
                isGameActive = false;
                showFeedback('Exercici completat! ðŸ†', 'correct');
                return;
            }
            fallingWord = {
                x: Math.random() * (canvas.width - 100),
                y: 0,
                speed: 0.2 + Math.random() * 0.3,
            };
        }

        function updateGame() {
            if (!isGameActive) return;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            if (currentWordObj) {
                fallingWord.y += fallingWord.speed;
                ctx.font = '24px Arial';
                ctx.fillStyle = 'black';
                ctx.fillText(currentWordObj.word, fallingWord.x, fallingWord.y);

                if (fallingWord.y > canvas.height) {
                    showFeedback(`SoluciÃ³: ${currentWordObj.solution}`, 'incorrect');
                    incorrectWords.push(currentWordObj);
                    currentWordObj = null;
                    setTimeout(() => startNewWord(), 2000);
                }
            }

            requestAnimationFrame(updateGame);
        }

        function checkAnswer() {
            const userInputValue = userInput.value.trim();

            if (currentWordObj && userInputValue === currentWordObj.solution) {
                showFeedback('âœ“ Correcte!', 'correct');
                currentWordObj = null;
                startNewWord();
            } else if (currentWordObj) {
                showFeedback('Segueix-ho intentant! ðŸ’ª', 'tryAgain');
            }

            userInput.value = '';
            focusInput();
        }

        userInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                checkAnswer();
            }
        });

        focusInput();
        startNewWord();
        updateGame();
    </script>
</body>
</html>
